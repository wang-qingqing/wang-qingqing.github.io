---
title: 【函数式编程入门经典系列】第4章-闭包与高阶函数
date: 2018-07-29
categories:  函数式编程入门经典系列
tags:
    - 函数式编程
---
1. **闭包**就是一个内部函数。

<!--more-->

2. **闭包有3个可访问的作用域**：

    （1）在它自身声明之内声明的变量。

    （2）对全局变量的访问。

    （3）对外部函数变量的访问。（！！！）

3. 闭包作用域的例子：

        let global = "global";
        function outer(){
            let outer = "outer";
            function inner(){
                let a = 5;
                console.log("a:",a); //作用域（1）
                console.log("global:",global); //作用域（2）
                console.log("outer:",outer); //作用域（3）
            }
            inner();//调用inner函数
        }

4. **tap函数**：
    接受参数并返回另一个函数的函数，而该函数又接受一些参数。
    
        const tap = (value) => 
            (fn) => (
                typeof(fn) === 'function' && fn(value),
                console.log(value)
            )

        //可用到的场景：遍历并打印数据
        forEach([1,2,3],(a) => 
            tap(a)(() => {
                console.log(a)
            })
        )


5. **unary函数**：
    接受一个给定的多参数函数，并把它转换为一个只接受一个参数的函数。

        const unary = (fn) => 
            fn.length === 1
                ? fn
                : (arg) => fn(arg)

        //可用到的场景：将数组内的值转换为整型
        ['1','2','3'].map(unary(parseInt))   //[1,2,3]
        
6. **once函数**：
    只运行一次给定的函数。

        const once = (fn) => {
            let done = false;

            return function(){
                return done ? undefined : ((done = true),fn.apply(this,arguments))
            }
        } 

7. **memoized函数**：
    让函数能够记住其计算结果。

        const memoized = (fn) => {
            const lookupTable = {};

            return (arg) => lookupTable[arg] || (lookupTable[arg] = fn(arg));
        }